[gd_scene load_steps=25 format=3 uid="uid://ctb7kh77do0es"]

[ext_resource type="PackedScene" uid="uid://c2trspmgcscp6" path="res://models/items/xylophone.glb" id="1_yd1qp"]
[ext_resource type="Script" path="res://scenes/characters/musician/xylophone.gd" id="2_aa06l"]
[ext_resource type="PackedScene" uid="uid://cp48p8j5gfthv" path="res://models/items/xylophone_mallet.glb" id="3_p0v3c"]
[ext_resource type="AudioStream" uid="uid://dse8chjbrhva2" path="res://audio/characters/musician/xylophone/C3.wav" id="4_ko7p3"]
[ext_resource type="AudioStream" uid="uid://0d8bhpb5pr5t" path="res://audio/characters/musician/xylophone/D3.wav" id="5_hwht1"]
[ext_resource type="AudioStream" uid="uid://8rumgb0mbhe4" path="res://audio/characters/musician/xylophone/E3.wav" id="6_lnima"]
[ext_resource type="AudioStream" uid="uid://cqp01353aaypt" path="res://audio/characters/musician/xylophone/F3.wav" id="7_pgdog"]
[ext_resource type="AudioStream" uid="uid://ca5jndovagbdv" path="res://audio/characters/musician/xylophone/G3.wav" id="8_wca3g"]
[ext_resource type="AudioStream" uid="uid://cea18iwyj46re" path="res://audio/characters/musician/xylophone/A4.wav" id="9_6h28s"]
[ext_resource type="AudioStream" uid="uid://biq2w6s4j08x4" path="res://audio/characters/musician/xylophone/B4.wav" id="10_aix47"]
[ext_resource type="AudioStream" uid="uid://buiv28axvka6s" path="res://audio/characters/musician/xylophone/C4.wav" id="11_kglk1"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_egfmk"]
points = PackedVector3Array(39.3807, 6.58401, 9.44998, -42.9322, -6.27737, -16.2703, -42.9322, -6.27737, 15.8832, 39.3807, -6.27737, -11.1243, -42.9322, 6.58401, 14.5959, 39.3807, -6.27737, 10.7372, 39.3807, 6.58401, -9.83706, 38.0835, 5.29737, 12.0245, -42.9322, 6.58401, -13.6957, -32.6431, 5.29737, -16.2703, -26.2053, 5.29737, 15.8832, -32.6431, -6.27737, 15.8832, -32.6431, -6.27737, -16.2703, -41.6349, 6.58401, -14.983, 38.0835, 6.58401, 10.7372, -24.9242, 2.72535, 15.8832, -32.6431, 6.58401, -14.983, -41.0139, 5.05762, 15.1339, -32.6431, 6.58401, 14.5959, -24.9242, 4.01073, 15.8832)

[sub_resource type="BoxShape3D" id="BoxShape3D_1r16t"]
size = Vector3(0.166992, 0.13681, 0.877808)

[sub_resource type="BoxShape3D" id="BoxShape3D_xm71s"]
size = Vector3(0.179199, 0.148376, 0.754028)

[sub_resource type="BoxShape3D" id="BoxShape3D_35eor"]
size = Vector3(0.179199, 0.148376, 0.684479)

[sub_resource type="BoxShape3D" id="BoxShape3D_kf58g"]
size = Vector3(0.179199, 0.148376, 0.636086)

[sub_resource type="BoxShape3D" id="BoxShape3D_ddvv3"]
size = Vector3(0.179199, 0.148376, 0.550257)

[sub_resource type="BoxShape3D" id="BoxShape3D_3exc3"]
size = Vector3(0.179199, 0.148376, 0.469718)

[sub_resource type="BoxShape3D" id="BoxShape3D_2bq5b"]
size = Vector3(0.179199, 0.148376, 0.41284)

[sub_resource type="BoxShape3D" id="BoxShape3D_y0jii"]
size = Vector3(0.179199, 0.148376, 0.36618)

[sub_resource type="Curve3D" id="Curve3D_vj35b"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.825015, 2.98023e-05, 0.0554632, 0, 0, 0, 0, 0, 0, -0.580654, 2.98023e-05, 0.0566491, 0, 0, 0, 0, 0, 0, -0.346976, 2.98023e-05, 0.0542888, 0, 0, 0, 0, 0, 0, -0.120379, 2.98023e-05, 0.0590095, 0, 0, 0, 0, 0, 0, 0.10447, 2.98023e-05, 0.0522351, 0, 0, 0, 0, 0, 0, 0.340624, 2.98023e-05, 0.0446232, 0, 0, 0, 0, 0, 0, 0.574716, 2.98023e-05, 0.0283311, 0, 0, 0, 0, 0, 0, 0.799341, 2.98023e-05, 0.0404729),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 8

[sub_resource type="Animation" id="Animation_dspjc"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("XylophoneMallet:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0.256214, 0, 0)]
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("XylophoneMallet:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.278599, -0.0005, 0, 0.0005, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("XylophoneMallet:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.4, -0.0005, 0, 0.0005, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_n0p3t"]
resource_name = "hit_key"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("XylophoneMallet:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.266667, 0.5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(0.256214, 0, 0), Vector3(-0.283895, 0, 0), Vector3(0.256214, 0, 0)]
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("XylophoneMallet:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(0.279, -0.25, 0, 0.25, 0, 0.246838, -0.25, 0, 0.25, 0, 0.279, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.266667, 0.5)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("XylophoneMallet:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(0.4, -0.25, 0, 0.25, 0, 0.291414, -0.25, 0, 0.25, 0, 0.4, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.266667, 0.5)
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.266667),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"play_player_note"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_15fgc"]
_data = {
"RESET": SubResource("Animation_dspjc"),
"hit_key": SubResource("Animation_n0p3t")
}

[node name="Xylophone" instance=ExtResource("1_yd1qp")]
script = ExtResource("2_aa06l")

[node name="Xyophone" parent="." index="0"]
transform = Transform3D(0.0291181, 0, 0, 0, 0.0291181, 0, 0, 0, 0.0291181, 0.0280508, 0.00295606, -0.00307706)

[node name="StaticBody3D" type="StaticBody3D" parent="Xyophone" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Xyophone/StaticBody3D" index="0"]
shape = SubResource("ConvexPolygonShape3D_egfmk")

[node name="KeyAreas" type="Node3D" parent="." index="1"]

[node name="C3Note" type="Area3D" parent="KeyAreas" index="0" groups=["C3"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="KeyAreas/C3Note" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.810115, 0.149155, -6.10352e-05)
shape = SubResource("BoxShape3D_1r16t")

[node name="D3Note" type="Area3D" parent="KeyAreas" index="1" groups=["D3"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="KeyAreas/D3Note" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.576928, 0.147064, 0.00152588)
shape = SubResource("BoxShape3D_xm71s")

[node name="E3Note" type="Area3D" parent="KeyAreas" index="2" groups=["E3"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.218, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="KeyAreas/E3Note" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.576928, 0.147064, 1.52588e-05)
shape = SubResource("BoxShape3D_35eor")

[node name="F3Note" type="Area3D" parent="KeyAreas" index="3" groups=["F3"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.113601, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="KeyAreas/F3Note" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00170398, 0.147064, 0.00116348)
shape = SubResource("BoxShape3D_kf58g")

[node name="G3Note" type="Area3D" parent="KeyAreas" index="4" groups=["G3"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.114832, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="KeyAreas/G3Note" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00170398, 0.147064, -0.00251675)
shape = SubResource("BoxShape3D_ddvv3")

[node name="A4Note" type="Area3D" parent="KeyAreas" index="5" groups=["A4"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.348457, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="KeyAreas/A4Note" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00170398, 0.147064, 0.00138497)
shape = SubResource("BoxShape3D_3exc3")

[node name="B4Note" type="Area3D" parent="KeyAreas" index="6" groups=["B4"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.579486, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="KeyAreas/B4Note" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00170398, 0.147064, -0.00410932)
shape = SubResource("BoxShape3D_2bq5b")

[node name="C4Note" type="Area3D" parent="KeyAreas" index="7" groups=["C4"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.800132, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="KeyAreas/C4Note" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00170398, 0.147064, 0.00368777)
shape = SubResource("BoxShape3D_y0jii")

[node name="XylophoneMallet" parent="." index="2" instance=ExtResource("3_p0v3c")]
transform = Transform3D(1, 0, 0, 0, 0.967356, -0.25342, 0, 0.25342, 0.967356, -0.818, 0.278599, 0.4)
visible = false

[node name="XylophonePath" type="Path3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.223515, -0.0281611)
curve = SubResource("Curve3D_vj35b")

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="4"]
libraries = {
"": SubResource("AnimationLibrary_15fgc")
}

[node name="AudioStreams" type="Node3D" parent="." index="5"]

[node name="C3KeyPlayer" type="AudioStreamPlayer" parent="AudioStreams" index="0"]
stream = ExtResource("4_ko7p3")
bus = &"SFX"

[node name="D3KeyPlayer" type="AudioStreamPlayer" parent="AudioStreams" index="1"]
stream = ExtResource("5_hwht1")
bus = &"SFX"

[node name="E3KeyPlayer" type="AudioStreamPlayer" parent="AudioStreams" index="2"]
stream = ExtResource("6_lnima")
bus = &"SFX"

[node name="F3KeyPlayer" type="AudioStreamPlayer" parent="AudioStreams" index="3"]
stream = ExtResource("7_pgdog")
bus = &"SFX"

[node name="G3KeyPlayer" type="AudioStreamPlayer" parent="AudioStreams" index="4"]
stream = ExtResource("8_wca3g")
bus = &"SFX"

[node name="A4KeyPlayer" type="AudioStreamPlayer" parent="AudioStreams" index="5"]
stream = ExtResource("9_6h28s")
bus = &"SFX"

[node name="B4KeyPlayer" type="AudioStreamPlayer" parent="AudioStreams" index="6"]
stream = ExtResource("10_aix47")
bus = &"SFX"

[node name="C4KeyPlayer" type="AudioStreamPlayer" parent="AudioStreams" index="7"]
stream = ExtResource("11_kglk1")
bus = &"SFX"
